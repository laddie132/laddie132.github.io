---
title: "python中logging模块使用"
date: "2018-01-21 00:00:00"
categories:
- python

tags: 
- logging
- python
---

在java中，我们常常使用log4j模块来集中处理日志，同样，在python中，有logging模块担任这一功能。

## 级别

在logging中，日志分为以下几个等级（从低到高）：

- debug
- info
- warning
- error
- critical

最高等级是严重错误，最低等级就是调试信息了。在代码中可以直接进行不同level的调用，只不过需要在初始化程序的时候，控制logging模块需要处理的日志级别，注意这里设置的是**最低处理**的日志级别，即如果设置的级别是info，那么最终程序将会输出info、warning、error、critical级别的日志，而忽略debug日志。

## 配置

另外，logging的配置包括以下几种方式：

1. `basicConfig`：只能进行最基本的级别、输出格式等控制
2. `fileConfig`：读取一个固定格式的文本配置文件，较为灵活
3. `dictConfig`：通过一个dictionary变量配置，该变量可以从程序中动态初始化，也可以从一个文件中读取。注意，这里文件并不限定具体格式，你可以使用yaml、json等任意格式。因此，这种方式也是最为灵活的。

## 与异常处理

对于初学者来说，多种方案往往不知道如何选择。当程序出错时，可以使用logging模块输出error级别日志，并处理错误；也可以直接用raise来抛出异常信息，并捕捉进行处理。我认为这两者是不冲突的，程序出错时，可以使用raise抛出异常，并在任意一个地方去处理，与此同时，logging模块统一记录这些信息，以便日后查阅。

准确来说，logging模块的目的在于集中管理日志信息，便于维护；而raise异常处理在于灵活处理程序中发生的错误，避免程序的直接崩溃。两者并不冲突。

编程中，对于遇到的问题还是要灵活处理，采用什么方案要看程序的需求。